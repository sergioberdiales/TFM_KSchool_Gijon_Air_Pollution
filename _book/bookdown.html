<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>10 Bookdown | Gijón Air Pollution</title>
  <meta name="description" content="10 Bookdown | Gijón Air Pollution">
  <meta name="generator" content="bookdown  and GitBook 2.6.7">

  <meta property="og:title" content="10 Bookdown | Gijón Air Pollution" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 Bookdown | Gijón Air Pollution" />
  
  
  

<meta name="author" content="Sergio Berdiales">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="python-scripts.html">
<link rel="next" href="scripts.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="libs/kePrint-0.0.1/kePrint.js"></script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preface</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#why"><i class="fa fa-check"></i><b>2.1</b> Why</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#what"><i class="fa fa-check"></i><b>2.2</b> What</a></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#how"><i class="fa fa-check"></i><b>2.3</b> How</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="the-data.html"><a href="the-data.html"><i class="fa fa-check"></i><b>3</b> The Data</a></li>
<li class="chapter" data-level="4" data-path="visualizations.html"><a href="visualizations.html"><i class="fa fa-check"></i><b>4</b> Visualizations</a></li>
<li class="chapter" data-level="5" data-path="prediction-models.html"><a href="prediction-models.html"><i class="fa fa-check"></i><b>5</b> Prediction Models</a><ul>
<li class="chapter" data-level="5.1" data-path="prediction-models.html"><a href="prediction-models.html#arima"><i class="fa fa-check"></i><b>5.1</b> ARIMA</a></li>
<li class="chapter" data-level="5.2" data-path="prediction-models.html"><a href="prediction-models.html#machine-learning-methods"><i class="fa fa-check"></i><b>5.2</b> Machine Learning Methods</a></li>
<li class="chapter" data-level="5.3" data-path="prediction-models.html"><a href="prediction-models.html#neural-networks"><i class="fa fa-check"></i><b>5.3</b> Neural Networks</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="conclusions.html"><a href="conclusions.html"><i class="fa fa-check"></i><b>6</b> Conclusions</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="" data-path="r-scripts.html"><a href="r-scripts.html"><i class="fa fa-check"></i>R scripts</a></li>
<li class="chapter" data-level="7" data-path="gathering-and-cleaning-data.html"><a href="gathering-and-cleaning-data.html"><i class="fa fa-check"></i><b>7</b> Gathering and Cleaning Data</a><ul>
<li class="chapter" data-level="7.1" data-path="gathering-and-cleaning-data.html"><a href="gathering-and-cleaning-data.html#data-gathering"><i class="fa fa-check"></i><b>7.1</b> Data gathering</a></li>
<li class="chapter" data-level="7.2" data-path="gathering-and-cleaning-data.html"><a href="gathering-and-cleaning-data.html#data-cleaning"><i class="fa fa-check"></i><b>7.2</b> Data cleaning</a></li>
<li class="chapter" data-level="7.3" data-path="gathering-and-cleaning-data.html"><a href="gathering-and-cleaning-data.html#adding-new-variables"><i class="fa fa-check"></i><b>7.3</b> Adding new variables</a><ul>
<li class="chapter" data-level="7.3.1" data-path="gathering-and-cleaning-data.html"><a href="gathering-and-cleaning-data.html#time-variables"><i class="fa fa-check"></i><b>7.3.1</b> Time variables</a></li>
<li class="chapter" data-level="7.3.2" data-path="gathering-and-cleaning-data.html"><a href="gathering-and-cleaning-data.html#laboral-dates"><i class="fa fa-check"></i><b>7.3.2</b> Laboral dates</a></li>
<li class="chapter" data-level="7.3.3" data-path="gathering-and-cleaning-data.html"><a href="gathering-and-cleaning-data.html#wind-direction"><i class="fa fa-check"></i><b>7.3.3</b> Wind direction</a></li>
<li class="chapter" data-level="7.3.4" data-path="gathering-and-cleaning-data.html"><a href="gathering-and-cleaning-data.html#tables-preparation-for-tableau-dashboards"><i class="fa fa-check"></i><b>7.3.4</b> Tables preparation for Tableau dashboards</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-exploration.html"><a href="data-exploration.html"><i class="fa fa-check"></i><b>8</b> Data Exploration</a><ul>
<li class="chapter" data-level="8.1" data-path="data-exploration.html"><a href="data-exploration.html#relationships-between-variables"><i class="fa fa-check"></i><b>8.1</b> Relationships between variables</a></li>
<li class="chapter" data-level="8.2" data-path="data-exploration.html"><a href="data-exploration.html#pm10-constitucion-station"><i class="fa fa-check"></i><b>8.2</b> PM10 Constitucion Station</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="prediction-models-arima.html"><a href="prediction-models-arima.html"><i class="fa fa-check"></i><b>9</b> Prediction Models. ARIMA</a><ul>
<li class="chapter" data-level="9.1" data-path="prediction-models-arima.html"><a href="prediction-models-arima.html#pm10-hourly-prediction-models"><i class="fa fa-check"></i><b>9.1</b> PM10 hourly prediction models</a><ul>
<li class="chapter" data-level="9.1.1" data-path="prediction-models-arima.html"><a href="prediction-models-arima.html#data-loading"><i class="fa fa-check"></i><b>9.1.1</b> Data loading</a></li>
<li class="chapter" data-level="9.1.2" data-path="prediction-models-arima.html"><a href="prediction-models-arima.html#train-test-and-validation-data"><i class="fa fa-check"></i><b>9.1.2</b> Train, test and validation data</a></li>
<li class="chapter" data-level="9.1.3" data-path="prediction-models-arima.html"><a href="prediction-models-arima.html#data-exploration-1"><i class="fa fa-check"></i><b>9.1.3</b> Data Exploration</a></li>
<li class="chapter" data-level="9.1.4" data-path="prediction-models-arima.html"><a href="prediction-models-arima.html#arima-model"><i class="fa fa-check"></i><b>9.1.4</b> ARIMA model</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="prediction-models-arima.html"><a href="prediction-models-arima.html#we-have-been-using-a-dataset-for-training-of-3-years.-is-this-necessary-does-the-arima-algorithm-take-advantage-of-a-so-long-time-series"><i class="fa fa-check"></i><b>9.2</b> We have been using a dataset for training of 3 years. Is this necessary? Does the Arima algorithm take advantage of a so long time series?</a><ul>
<li class="chapter" data-level="9.2.1" data-path="prediction-models-arima.html"><a href="prediction-models-arima.html#no2-predictions"><i class="fa fa-check"></i><b>9.2.1</b> NO2 Predictions</a></li>
<li class="chapter" data-level="9.2.2" data-path="prediction-models-arima.html"><a href="prediction-models-arima.html#arima-model-1"><i class="fa fa-check"></i><b>9.2.2</b> ARIMA model</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="python-scripts.html"><a href="python-scripts.html"><i class="fa fa-check"></i>Python scripts</a></li>
<li class="chapter" data-level="10" data-path="bookdown.html"><a href="bookdown.html"><i class="fa fa-check"></i><b>10</b> Bookdown</a><ul>
<li class="chapter" data-level="10.1" data-path="bookdown.html"><a href="bookdown.html#the-data-1"><i class="fa fa-check"></i><b>10.1</b> The Data</a></li>
<li class="chapter" data-level="10.2" data-path="bookdown.html"><a href="bookdown.html#visualizations-1"><i class="fa fa-check"></i><b>10.2</b> Visualizations</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="scripts.html"><a href="scripts.html"><i class="fa fa-check"></i><b>11</b> Scripts</a><ul>
<li class="chapter" data-level="11.1" data-path="scripts.html"><a href="scripts.html#gathering-and-cleaning-data-1"><i class="fa fa-check"></i><b>11.1</b> Gathering and cleaning data</a></li>
<li class="chapter" data-level="11.2" data-path="scripts.html"><a href="scripts.html#data-exploration-2"><i class="fa fa-check"></i><b>11.2</b> Data exploration</a></li>
<li class="chapter" data-level="11.3" data-path="scripts.html"><a href="scripts.html#prediction-models-arima"><i class="fa fa-check"></i><b>11.3</b> Prediction Models ARIMA</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Gijón Air Pollution</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="bookdown" class="section level1">
<h1><span class="header-section-number">10</span> Bookdown</h1>
<div id="the-data-1" class="section level2">
<h2><span class="header-section-number">10.1</span> The Data</h2>
<p>Pending: * Remove fields ‘year_month_day’, ‘rose’, ‘holiday_type’.<br />
* Change order fields.<br />
* Upload final dataset to kaggle.</p>
<ul>
<li>Loops &amp; functions:</li>
</ul>
<pre><code>kable(air_data_1 %&gt;% filter(SO2 == -9999 | 
                              NO == -9999 |
                              NO2 == -9999 |
                              PM10 == -9999 |
                              O3 == -9999 ))
</code></pre>
<pre><code>
air_data_2 &lt;- air_data_1 %&gt;% mutate(SO2 = replace(SO2, SO2 == -9999, NA),
                                    NO = replace(NO, NO == -9999, NA),
                                    NO2 = replace(NO2, NO2 == -9999, NA),
                                    PM10 = replace(PM10, PM10 == -9999, NA),
                                    O3 = replace(O3, O3 == -9999, NA))
</code></pre>
<p>Hacer tambien un loop para el tema del conteo de negativos.</p>
<p>‘During the year 2008 the completeness of several variables (HR, PRB, HS, LL, BEN, TOL y MXIL) decrease until 88% (to do: check there was not caused by a data importing problem.)’ Hacer una visualizacion chula de esto. Donde se vea si esta falta de datos a algun periodo determinado.</p>
<p>Que se vean de un color distinto a partir de 0.95 para abajo. Revisar esto: <a href="https://haozhu233.github.io/kableExtra/awesome_table_in_html.html" class="uri">https://haozhu233.github.io/kableExtra/awesome_table_in_html.html</a> ``` data_completeness %&gt;% mutate_if(is.numeric, function(x) { cell_spec(x, bold = T, color = spec_color(x, end = 0.9), font_size = spec_font_size(x)) }) %&gt;% kable() %&gt;% kable_styling()</p>
<p>``` Comprobar que no se pasan de observaciones posibles por ano</p>
<p>Ensanchar las tablas para que ocupen todo el ancho</p>
</div>
<div id="visualizations-1" class="section level2">
<h2><span class="header-section-number">10.2</span> Visualizations</h2>
<p>Pending:</p>
<p>Comprobar que tamano poner.</p>
<p>Hacer por lo menos una version movil.</p>
<p>Comprobar esto CO. Según mis cálculos el 24 de junio de 2010 se habrían superado los límites de media octo horaria de CO. Pero en el informe de 2016 del Principado esto no aparece así, sino que aparece como valor máximo lo que parece un 7 (está en un gráfico). Tambien en Argentina 2008 hay otro maximo que no aparece.</p>
<p>Hacer portada de cada story con la descripci’on</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="python-scripts.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="scripts.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
